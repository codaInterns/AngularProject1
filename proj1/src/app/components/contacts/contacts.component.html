<div id="header">
  <h1>Add User Details</h1>
</div>
<form [formGroup]="formdata" class="form-container">
  <div id="addbtn"> <button id="addbtn" (click)="addDetCard()"><i class="fa fa-plus-square" aria-hidden="true"></i></button></div>
  <div formArrayName="detcard" *ngFor="let detcard of formdata.get('detcard').controls; let i = index;">
    <div [formGroupName]="i">
      <div class="card" style="width: 25rem;">
        <div class="card-body">
          <h5 class="card-title">User Details</h5>
          <div id="cancelbtn">
            <button id="cancelbtn"><i class="fa fa-window-close" aria-hidden="true" (click)="onDelete(i)"></i></button>
          </div>
          <label>UserName</label>
          <input type="text" name="userName" formControlName="userName">
          <div *ngIf="(formdata.controls.detcard.controls[i].controls.userName.invalid && 
        formdata.controls.detcard.controls[i].controls.userName.touched)"><small>
              Enter Valid UserName </small></div>
          <label>Email</label>
          <input type="email" name="Email" formControlName="email">
          <div *ngIf="(formdata.controls.detcard.controls[i].controls.email.invalid && 
        formdata.controls.detcard.controls[i].controls.email.touched)"><small>
              Enter valid Email</small></div>
        </div>
      </div>
    </div>
  </div>
  <button style="position:absolute;" id="submit" [disabled]="!formdata .valid" (click)="onSubmit()" type="submit">Submit</button>
</form>

